<!-- Header con navegación y desplegable de usuario -->
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm">
    <div class="container">
      <h:link outcome="welcome" styleClass="navbar-brand">
        <i class="fas fa-graduation-cap me-2"></i>
        Sistema SENA
      </h:link>

      <div class="navbar-nav ms-auto d-flex align-items-center">
        <!-- Desplegable de usuario -->
        <div class="dropdown">
          <button class="user-dropdown-btn dropdown-toggle d-flex align-items-center" type="button" id="userDropdown"
            data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-user-circle me-2"></i>
            <span>Bienvenido, #{login.primerNombre}</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-end user-dropdown-menu" aria-labelledby="userDropdown">
            <!-- Header del desplegable -->
            <li>
              <div class="dropdown-header user-dropdown-header">
                <div class="d-flex align-items-center">
                  <i class="fas fa-user-circle fa-2x me-3"></i>
                  <div>
                    <h6 class="mb-1">#{login.nombreCompleto}</h6>
                    <small class="opacity-75">Usuario del Sistema</small>
                  </div>
                </div>
              </div>
            </li>

            <!-- Información del usuario -->
            <li>
              <div class="user-info-section">
                <div class="user-info-item">
                  <i class="fas fa-envelope"></i>
                  <small>#{login.emailUsuario}</small>
                </div>
                <div class="user-info-item">
                  <i class="fas fa-user-tag"></i>
                  <small>#{login.rolesUsuario}</small>
                </div>
                <div class="user-info-item">
                  <i class="fas fa-building"></i>
                  <small>#{login.institucionUsuario}</small>
                </div>
              </div>
            </li>

            <!-- Separador -->
            <li>
              <div class="dropdown-divider user-dropdown-divider"></div>
            </li>

            <!-- Enlaces de acción -->
            <li>
              <h:form styleClass="d-inline">
                <h:commandButton action="#{login.goToUserProfile}" 
                               styleClass="dropdown-item user-dropdown-item w-100 text-start btn-profile"
                               value="Mi Perfil">
                  <f:param name="profile" value="true" />
                </h:commandButton>
              </h:form>
            </li>

            <li>
              <h:form styleClass="d-inline">
                <h:commandButton action="#{login.goToWelcome}" 
                               styleClass="dropdown-item user-dropdown-item w-100 text-start btn-home"
                               value="Inicio">
                  <f:param name="home" value="true" />
                </h:commandButton>
              </h:form>
            </li>

            <!-- Separador -->
            <li>
              <div class="dropdown-divider user-dropdown-divider"></div>
            </li>

                                <!-- Botón de cerrar sesión -->
                    <li>
                        <h:form>
                            <h:commandButton action="#{login.logout}" 
                                           styleClass="dropdown-item user-dropdown-item text-danger w-100 text-start"
                                           value="Cerrar sesión">
                                <f:param name="logout" value="true" />
                            </h:commandButton>
                        </h:form>
                    </li>
          </ul>
        </div>
      </div>
    </div>
  </nav>
</ui:composition>